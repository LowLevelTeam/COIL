INCL <ABI> // include standard ABI Calling Conventions
INCL ""


SECTION .text

MODULE main

add:
  CALLEE c

  GETARG c, 0, arg0, word
  GETARG c, 1, arg1, word

  CALLER c
  ADD arg0, arg1

  SETRET c, 0, arg0, word
  RET



main:
  // complete calle required instructions for ABI convention
  CALLEE c

  // get 1st argument
  GETARG c, 0, arg0, word

  // enter scope
  SCOPE

  LET x, word, 0
  
  SETARG c, 0, 10, word
  SETARG c, 1, 15, word

  CALLER c
  CALL add
  GETRET c, 0, x, word

  // leave scope
  SCOPL

  // jump to callers address
  RET











